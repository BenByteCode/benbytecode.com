version: 1
frontend:
  # 1. Build Phases
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  
  # 2. Artifacts (Output)
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
      
  # 3. Custom Redirects (The fix for /projects and /about)
  customRedirects:
    - source: "https://benbytecode.com"
      target: "https://www.benbytecode.com"
      status: "301" 
    # **Simplest SPA rewrite**
    - source: "/<*>"
      target: "/index.html"
      status: "200"

